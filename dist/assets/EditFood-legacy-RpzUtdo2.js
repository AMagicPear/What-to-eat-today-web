System.register(["./index-legacy-DtAbD21u.js","./foodConstructor-legacy-B1744KNQ.js"],(function(e,l){"use strict";var o,t,n,a,d,u,s,i,c,f,r,m,g,h,_,p,v,y,b,x,w,N,C,W,k,F,j,D,E,I,$,z,q,A,B,G,H,J;return{setters:[e=>{o=e.d,t=e.r,n=e.o,a=e.c,d=e.w,u=e.u,s=e.a,i=e.b,c=e.I,f=e.e,r=e.f,m=e.g,g=e.n,h=e.p,_=e.k,p=e.q,v=e.s,y=e.v,b=e.F,x=e.l,w=e.j,N=e.h,C=e.x,W=e.y,k=e.z,F=e.A,j=e.B,D=e.C,E=e.m,I=e.D,$=e.t,z=e.E,q=e.G,A=e.H,B=e.J,G=e.K,H=e._},e=>{J=e.F}],execute:function(){var l=document.createElement("style");l.textContent="#add-button[data-v-193936e9]{margin:2vw}ion-note[data-v-193936e9]{display:block}\n",document.head.appendChild(l);const{foodList:K,addFood:L,loadFoods:P,deleteFood:S}=J(),T=e("message",t(null));e("default",H(o({__name:"EditFood",setup(e){const l=[{text:"取消",role:"cancel",handler:()=>{T.value=null,console.log("已取消添加食物")}},{text:"添加",handler:async e=>e.foodName&&e.foodWeight?e.foodWeight<0?(T.value="权重不能是负数！",!1):(console.log(`准备添加食物${e.foodName}，${e.foodWeight}`),!!(await L(e.foodName,e.foodWeight))&&(T.value=`${e.foodName}添加成功！`,!0)):(console.log("食物未输入"),T.value="请输入食物名称和权重后再提交",!1)}],o=[{name:"foodName",placeholder:"食物名称"},{name:"foodWeight",type:"number",placeholder:"权重",min:0}];return n((()=>{P().then((()=>{console.log("加载食物列表："),console.log(K.value)}))})),(e,t)=>(s(),a(u(E),null,{default:d((()=>[i(u(m),null,{default:d((()=>[i(u(c),null,{default:d((()=>[i(u(f),null,{default:d((()=>t[1]||(t[1]=[r("编辑食物信息")]))),_:1})])),_:1})])),_:1}),i(u(x),null,{default:d((()=>[i(u(g),{inset:!0},{default:d((()=>[i(u(h),{style:{"font-weight":"bold"}},{default:d((()=>[i(u(_),null,{default:d((()=>t[2]||(t[2]=[r("食物")]))),_:1}),i(u(p),{slot:"end"},{default:d((()=>t[3]||(t[3]=[r("所占权重")]))),_:1}),i(u(p),{slot:"end",color:"secondary"},{default:d((()=>t[4]||(t[4]=[r("已选次数")]))),_:1})])),_:1}),(s(!0),v(b,null,y(u(K),(e=>(s(),a(u(I),{key:e.name},{default:d((()=>[i(u(h),null,{default:d((()=>[i(u(_),null,{default:d((()=>[r($(e.name),1)])),_:2},1024),i(u(p),{slot:"end"},{default:d((()=>[r($(e.weight),1)])),_:2},1024),i(u(p),{slot:"end",color:"secondary"},{default:d((()=>[r($(e.counts),1)])),_:2},1024)])),_:2},1024),i(u(z),{side:"end"},{default:d((()=>[i(u(q),{onClick:l=>(async e=>{console.log("正在编辑食物");const l=await G.create({header:"编辑食物",inputs:[{name:"foodName",placeholder:"食物名称",value:e.name},{name:"foodWeight",type:"number",placeholder:"权重",value:e.weight,min:0}],buttons:[{text:"取消",role:"cancel"},{text:"保存",handler:async l=>{l.foodName&&l.foodWeight&&(e.name=l.foodName,e.weight=Number(l.foodWeight))}}]});await l.present()})(e)},{default:d((()=>[i(u(W),{slot:"end",icon:u(A)},null,8,["icon"]),t[5]||(t[5]=r("编辑"))])),_:2},1032,["onClick"]),i(u(q),{color:"danger",expandable:"",onClick:l=>u(S)(e.name)},{default:d((()=>[i(u(W),{slot:"end",icon:u(B)},null,8,["icon"]),t[6]||(t[6]=r("删除"))])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1}),i(u(N),{class:"ion-padding",style:{"text-align":"center"}},{default:d((()=>t[7]||(t[7]=[r("TIP："),w("br",null,null,-1),r("点击右侧+号添加食物 滑动来编辑或删除"),w("br",null,null,-1),r("所占权重越大，食物被选中的几率更高")]))),_:1}),i(u(F),{slot:"fixed",vertical:"bottom",horizontal:"end",id:"add-button"},{default:d((()=>[i(u(C),null,{default:d((()=>[i(u(W),{icon:u(k)},null,8,["icon"])])),_:1})])),_:1}),i(u(j),{header:"添加食物",trigger:"add-button",buttons:l,inputs:o}),i(u(D),{"is-open":T.value,message:T.value,duration:2e3,onDidDismiss:t[0]||(t[0]=e=>T.value=null)},null,8,["is-open","message"])])),_:1}))}}),[["__scopeId","data-v-193936e9"]]))}}}));
